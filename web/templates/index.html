<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <script src="JStuff.js"></script>
        <script src="https://unpkg.com/vue"></script>
        <title> Codebot | Welcome</title>
        <link rel="stylesheet" href="../static/css/styles.css" />
    </head>

    <script src="static/js/build.js"></script>

    <script type="text/javascript">
        var level = {{ grid | tojson | safe }};
        var grid = new World.Grid( level.numRows, level.numCols,
            new World.Coord2D( level.goal.x, level.goal.y ),
            new World.Coord2D( level.start.x, level.start.y ),
            World.Direction[ level.startDir ]);

        function launchGame() {
            var result = Main.runGame(grid, document.getElementById('code_area').value);
            console.log(result);
        }
    </script>
    </head>

    <body>
        <header>
            <div class="container">
                <div id="branding">
                    <!-- If we're going to add a logo or something, this is where -->
                    <h1> Welcome to Codebot </h1>
                </div>
                <nav>
                    <ul>
                        <li class="current"><a href="index.html">Home</a></li>
                        <li><a href="Challenges.html">Challenges</a></li>
                        <li><a href="myProfile.html">My Profile</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Everything for the code and the game display -->
        <section id="main">
            <!-- The code Box -->
            <div class="codeContainer">
                <form id="codeBox">
                    <fieldset>
                        <!-- <legend> Enter code here </legend> -->
                        <h2> Code:</h2>
                        <p>
                            <textarea id="code_area" placeholder="Enter Code"></textarea>
                        </p>
                    </fieldset>

                    <input type="button" value="Run!" onclick="launchGame();" />
                    <input type="button" value="Step Through" onclick="stepThrough();" />
                    <input type="button" value="Reset" onclick="resetLevel();" />
                </form>

                <!-- The game display -->
                <div class="gridContainer">
                    <table>
                        <tr v-for="row in rows">
                            <td v-for="col in row">
                                <img v-bind:src="col" id="cell"/>
                            </td>
                        </tr>
                    </table>
                </div>
                
            </div>
        </section>

        <!-- Vue object setup -->
        <script>
            var grass1 = "../assets/grass/grass1.png";
            var spriteD = "../assets/playerSprite/down.png";
            var game = new Vue({
                el: "#main",
                data: {
                    rows: [
                        [grass1, grass1, grass1, grass1, grass1],
                        [grass1, grass1, grass1, grass1, grass1],
                        [spriteD, grass1, grass1, grass1, grass1],
                        [grass1, grass1, grass1, grass1, grass1],
                        [grass1, grass1, grass1, grass1, grass1]
                    ],
                }
            });

        </script>

        <footer>
          <!--  CAN'T GET THIS SHIT TO ALIGN RIGHT
            <p id="COMP4920"> COMP-4920 Project - Term 2 </p>
            <p id="Authors">  Authors: </br> Joshua Lau, Macka Baran, Josh Meredith, Matthieu Capuano </p>
            <p id="Copyright"> Copyright &copy; 2017 </p>
          -->
          <p>COMP-4920 Project ----- Authors: Joshua Lau, Macka Baran, Josh Meredith, Matthieu Capuano ----- Copyright &copy; 2017</p>
        </footer>
    </body>
</html>
